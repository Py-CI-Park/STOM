# 08. 프로세스 통신

> Queue, ZMQ, WebSocket을 활용한 프로세스 간 통신

## 목차

- [Python Queue](#python-queue)
- [ZeroMQ](#zeromq)
- [WebSocket](#websocket)

---

## Python Queue

### 사용법

```python
from multiprocessing import Queue

# Queue 생성
q = Queue()

# 데이터 전송
q.put(['매수', '005930', 100, 80000])

# 데이터 수신
data = q.get()
```

### 특징

- 프로세스 간 안전한 통신
- FIFO (First In First Out)
- 블로킹/논블로킹 모드 지원

---

## ZeroMQ

### Pub/Sub 패턴

```python
# Publisher (Receiver)
import zmq

context = zmq.Context()
socket = context.socket(zmq.PUB)
socket.bind('tcp://*:5777')

# 데이터 전송
socket.send_pyobj(data)

# Subscriber (Strategy)
socket = context.socket(zmq.SUB)
socket.connect('tcp://localhost:5777')
socket.setsockopt_string(zmq.SUBSCRIBE, '')

# 데이터 수신
data = socket.recv_pyobj()
```

### 장점

- 1:N 브로드캐스트
- 고성능
- 느슨한 결합

---

## WebSocket

### 업비트 WebSocket

```python
import websockets

async def subscribe():
    uri = 'wss://api.upbit.com/websocket/v1'
    async with websockets.connect(uri) as ws:
        # 구독
        await ws.send(json.dumps([{
            'ticket': 'test',
            'type': 'ticker',
            'codes': ['KRW-BTC']
        }]))
        
        # 데이터 수신
        data = await ws.recv()
```

---

**다음:** [09-커스터마이징-가이드](./09-커스터마이징-가이드.md)
