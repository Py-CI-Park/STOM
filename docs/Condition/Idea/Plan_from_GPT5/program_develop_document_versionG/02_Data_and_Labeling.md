## 데이터/레이블 명세

### DB 로딩
- 테이블명=종목코드, `index`=yyyymmddhhmmss → `ts` 변환 후 정렬
- 최소 컬럼: 현재가, 시가/고가/저가, 등락율, 당일거래대금, 체결강도, (매수/매도잔량·호가, 선택)
- 결측/중복 제거, 분 데이터는 리샘플 일관 처리

### 피처(최소)
- 로그수익률 r_1s/r_60s, 롤링 표준편차(변동성), 고저폭, ATR 유사치
- 오더북 불균형(매수잔량합-매도잔량합)/합, 체결강도 이동평균(윈도우=20,60,120)
- 스케일 표준화(종목 내부 Z-score)

### 레이블
- 분류: H초 후 수익률-비용 > 0 → 1 else 0
  - 수익률: (price[t+H] / price[t] - 1) × 10000(bps)
  - 비용: `taker_fee_bps + slippage_bps`
- 클래스 불균형: class_weight, 임계값 이동(Youden), PR-AUC 모니터링

### 분할/검증
- 워크포워드: 3(Train/Val/Test) × 1(OOS) 고정 구획, 엠바고 1~5분
- 종목 홀드아웃(선택): 학습 종목과 테스트 종목 분리

### 출력 포맷
- X: [num_samples, num_features], y: [num_samples]
- 메타: 인덱스(ts, symbol), split tag(train/val/test/oos)

### 품질 체크
- 누수 검사: 미래 칼럼/윈도우 오프셋 확인, 라벨 타임스탬프 정합성
- 샘플 수/양 클래스 비율, 피처 상관/분포(이상치) 리포트
