# 조건식 (Condition)

- STOM 주식 자동거래에 사용하기 위한 조건식 문서
- [[Back_Testing_Guideline_Min]] 을(를) 기반으로 작성한 Min 조건식
- [[Condition_Document_Template_Guideline]] 을(를) 바탕으로 템플릿 구조를 적용한 문서

## 개요

본 문서는 STOM 주식 자동거래 시스템에서 **분봉 기반 Study 1 전략**을 정의한다.

- **대상 시간 구간**: 장 시작 후 30분 이후 (09:30 이후)
- **대상 종목**: 가격대 1,000원~30,000원, 등락율 1~20%
- **전략 타입**: 분봉 데이터 기반 조건식 탐색 (Minute Study 1)
- **핵심 변수**: 분당거래대금, 분당매수수량, 이동평균, 체결강도, 호가정보
- **업데이트 이력**:
  - 초기 문서 작성 (틱 조건식에서 분봉 버전으로 변환)

# 조건식 찾기 - 분봉 버전 (Condition Study 1 - Minute Version)

## 제한조건
```
# 백테스팅 실행 시 다음 제한조건을 반드시 준수해야 합니다:
# 1. Back_Testing_Guideline_Min.md에 명시된 변수와 함수만 사용해야 합니다.
# 2. 조합된 변수는 직접 사용할 수 없으며, 기본 변수의 조합으로 표현해야 합니다.
# 3. 매수조건은 반드시 'not (조건)' 형태로 작성해야 합니다(False 조건).
# 4. 매도조건은 반드시 '조건' 형태로 작성해야 합니다(True 조건).
# 5. 조건식은 반드시 한 줄에 하나씩 작성해야 합니다.
# 6. '< > <= >= == !=' 같은 비교 연산자와 'and or not' 같은 논리 연산자만 사용합니다.
# 7. 복잡한 비교(a < b < c)는 명시적으로 분리해야 합니다(a < b and b < c).
# 8. 0으로 나누는 오류를 방지하기 위해 분모에 작은 값(예: 0.0001)을 더하는 것이 좋습니다.
# 9. 변수명은 정확하게 사용해야 하며, 오타가 있으면 시스템이 인식하지 못합니다.
# 10. 과도하게 복잡한 산술식은 백테스팅 성능에 영향을 줄 수 있습니다.
```

## 가이드라인
```
# 조건 편집기 작성 방법 안내
# 한줄에 하나의 조건을 작성해야하며
# "if" 와 ":"를 제외하고 조건을 작성해야합니다.
# 하한 조건일 경우 너무 낮은 값보다는 높아야합니다.
# 상한 조건일 경우 너무 높은 값보다는 낮아야합니다.
# 매수조건은 False 조건을 작성하십시오.
# 매도조건은 True 조건을 작성하십시오.
# 구분용으로 조건이 없는 빈칸을 입력할 수 있으며
# "# 조건설명" 형태로 주석을 추가하실 수 있습니다.
# 사용자의 조건 설정에 따라 유용한 조합이 나올수도
# 무의미한 조합이 나올수도 있습니다.
# 조건이 무조건 많다고 좋은 것은 아니니
# 대충 만든 조건 보다는 의미있는 조건들로
# 설정개수보다 최소 두배 이상의 조건을 작성하십시오.
```

## 매수 조건식 예제
```python
# 등락율 및 현재가
not (현재가 > 시가)
not (고저평균대비등락율 >= 0)
not (3 <= 등락율 <= 25)

# 거래대금
not (당일거래대금 >= 2000)
not (분당거래대금 >= 5)
not (분당거래대금 > 분당거래대금평균(30))
not (분당거래대금평균(30) > 분당거래대금평균(30, 1))

# 분당매도수수량
not (분당매수수량 > 분당매도수량)
not (분당매수수량 > 분당매수수량N(1))

# 이동평균선
not (이동평균(60) > 이동평균(60, 1))

# 체결강도
not (체결강도 >= 체결강도평균(30) + 3)

# 호가정보
not (매도총잔량 > 매수총잔량)
not (매도잔량1 > 매수잔량1)
```

## 매도 조건식 예제
```python
# 수익률
수익률 <= -2
수익률 >= 3
최고수익률 > 3 and 수익률 < 최고수익률 * 0.75

# 등락율
등락율 > 29
고저평균대비등락율 < 0

# 기타
보유시간 > 30
체결강도 <= 최고체결강도(30) - 5
매도총잔량 < 매수총잔량
```

## 매수 조건식
```python
# 일반 선결 조건
매수 = False

# 분당순매수금액 계산
분당순매수금액 = (분당매수수량 - 분당매도수량) * 현재가 / 1_000_000
전일종가 = 현재가 / (1 + (등락율 / 100))
시가등락율 = ((시가 - 전일종가) / 전일종가) * 100
시가대비등락율 = ((현재가 - 시가) / 시가) * 100
고가대비하락율 = ((고가 - 현재가) / 고가) * 100

# 공통 선결 조건
if not (시분초 < 93000):                                                     # 장 시작 후 30분 이후 매수 대상                      [순수 변수]
    매수 = False
elif not (1000 < 현재가 <= 30000):                                           # 현재가가 1,000원~30,000원 범위 내 종목만 매수 대상   [순수 변수]
    매수 = False
elif not (1.0 < 등락율 <= 20.0):                                             # 등락율이 1%~20% 범위 내 종목만 매수 대상             [순수 변수]
    매수 = False
elif not (현재가 < VI아래5호가):                                              # VI아래5호가보다 현재가가 높은 종목만 매수 대상        [순수 변수]
    매수 = False
elif not (분당거래대금 > 분당거래대금N(1)):                                   # 분당거래대금이 직전보다 증가한 종목만 매수 대상        [순수 변수]
    매수 = False
elif 라운드피겨위5호가이내:                                                    # 라운드피겨 가격대 상위 5호가 이내인 종목 제외         [순수 변수]
    매수 = False

# 시가총액별 조건 분기
elif 시가총액 < 2500:                                                         # 시가총액 2500억 원 미만 (중소형 종목)               [순수 변수]
    # 중소형 종목 조건
    if not (1.0 <= 시가등락율 and 시가등락율 < 10.0):                       # 시가 대비 등락율 1%~10% 범위 종목만 매수 대상        [조합 변수: 시가등락율]
        매수 = False
    elif not (1.0 <= 시가대비등락율 and 시가대비등락율 < 8.0):                # 시가 대비 현재가 등락율 1%~8% 범위 종목만 매수 대상   [조합 변수: 시가대비등락율]
        매수 = False
    elif not (-2 < 고가대비하락율):                                          # 고가 대비 하락율 -2% 초과 종목만 매수 대상           [조합 변수: 고가대비하락율]
        매수 = False
    elif not (30 < 분당순매수금액 and 분당순매수금액 < 300):                   # 분당순매수금액 30~300백만 범위 종목만 매수 대상      [조합 변수: 분당순매수금액]
        매수 = False
    elif not (현재가 > (고가 - (고가 - 저가) * 8 / 100)):                   # 현재가가 고가에서 8% 하락선 이상인 종목만 매수 대상   [순수 변수]
        매수 = False
    elif not (전일비 > 10):                                                 # 전일 대비 거래량 비율 10% 초과 종목만 매수 대상      [순수 변수]
        매수 = False
    elif not (전일동시간비 > 30):                                           # 전일 동시간 대비 거래량 30% 초과 종목만 매수 대상    [순수 변수]
        매수 = False
    elif not (회전율 > 1):                                                 # 회전율 1% 초과 종목만 매수 대상                     [순수 변수]
        매수 = False
    elif not (당일거래대금 > 5 * 100):                                       # 당일거래대금 500억 초과 종목만 매수 대상             [순수 변수]
        매수 = False
    elif not (등락율각도(30) > 4):                                           # 등락율 각도 4도 초과인 종목만 매수 대상              [순수 변수]
        매수 = False
    elif not (전일비각도(30) < 70):                                         # 전일비 각도 70도 미만인 종목만 매수 대상             [순수 변수]
        매수 = False
    elif not (최고분당매수수량(30) * 2.0 > 최고분당매도수량(30)):              # 최고 분당매수수량이 매도수량의 2배 초과하는 종목      [순수 변수]
        매수 = False
    elif not (10 > 분당거래대금 / (분당거래대금평균(30) + 0.0001)):           # 분당거래대금이 평균의 10배 미만인 종목만 매수 대상    [순수 변수]
        매수 = False
    elif not (1000 > 분당거래대금 - 분당거래대금평균(30)):                    # 분당거래대금 증가폭 1000백만 미만 종목만 매수 대상   [순수 변수]
        매수 = False
    elif not (분당거래대금평균(30) > 0 and 10 > 분당거래대금 / (분당거래대금평균(30) + 0.0001)):  # 분당거래대금 비율 조건 [순수 변수]
        매수 = False
    elif not (분당매수수량 > 매도총잔량 * 25 / 100):                         # 분당매수수량이 매도총잔량의 25% 초과 종목만 매수 대상 [순수 변수]
        매수 = False
    elif not (매도총잔량 < 매수총잔량 * 5):                                   # 매수총잔량이 매도총잔량의 5배 초과하는 종목만 매수 대상 [순수 변수]
        매수 = False
else:                                                                         # 시가총액 2500억 원 이상 (대형 종목)
    # 대형 종목 조건
    if not (1.0 <= 시가등락율 and 시가등락율 < 10.0):                       # 시가 대비 등락율 1%~10% 범위 종목만 매수 대상        [조합 변수: 시가등락율]
        매수 = False
    elif not (1.0 <= 시가대비등락율 and 시가대비등락율 < 8.0):                # 시가 대비 현재가 등락율 1%~8% 범위 종목만 매수 대상   [조합 변수: 시가대비등락율]
        매수 = False
    elif not (-2 < 고가대비하락율):                                          # 고가 대비 하락율 -2% 초과 종목만 매수 대상           [조합 변수: 고가대비하락율]
        매수 = False
    elif not (30 < 분당순매수금액 and 분당순매수금액 < 300):                   # 분당순매수금액 30~300백만 범위 종목만 매수 대상      [조합 변수: 분당순매수금액]
        매수 = False
    elif not (현재가 > (고가 - (고가 - 저가) * 8 / 100)):                   # 현재가가 고가에서 8% 하락선 이상인 종목만 매수 대상   [순수 변수]
        매수 = False
    elif not (전일비 > 10):                                                 # 전일 대비 거래량 비율 10% 초과 종목만 매수 대상      [순수 변수]
        매수 = False
    elif not (전일동시간비 > 30):                                           # 전일 동시간 대비 거래량 30% 초과 종목만 매수 대상    [순수 변수]
        매수 = False
    elif not (회전율 > 1):                                                 # 회전율 1% 초과 종목만 매수 대상                     [순수 변수]
        매수 = False
    elif not (당일거래대금 > 5 * 100):                                       # 당일거래대금 500억 초과 종목만 매수 대상             [순수 변수]
        매수 = False
    elif not (등락율각도(30) > 4):                                           # 등락율 각도 4도 초과인 종목만 매수 대상              [순수 변수]
        매수 = False
    elif not (전일비각도(30) < 70):                                         # 전일비 각도 70도 미만인 종목만 매수 대상             [순수 변수]
        매수 = False
    elif not (최고분당매수수량(30) * 2.0 > 최고분당매도수량(30)):              # 최고 분당매수수량이 매도수량의 2배 초과하는 종목      [순수 변수]
        매수 = False
    elif not (10 > 분당거래대금 / (분당거래대금평균(30) + 0.0001)):           # 분당거래대금이 평균의 10배 미만인 종목만 매수 대상    [순수 변수]
        매수 = False
    elif not (1000 > 분당거래대금 - 분당거래대금평균(30)):                    # 분당거래대금 증가폭 1000백만 미만 종목만 매수 대상   [순수 변수]
        매수 = False
    elif not (분당거래대금평균(30) > 0 and 10 > 분당거래대금 / (분당거래대금평균(30) + 0.0001)):  # 분당거래대금 비율 조건 [순수 변수]
        매수 = False
    elif not (분당매수수량 > 매도총잔량 * 25 / 100):                         # 분당매수수량이 매도총잔량의 25% 초과 종목만 매수 대상 [순수 변수]
        매수 = False
    elif not (매도총잔량 < 매수총잔량 * 5):                                   # 매수총잔량이 매도총잔량의 5배 초과하는 종목만 매수 대상 [순수 변수]
        매수 = False

# TA-Lib 지표 조건 추가
elif not (RSI > 30 and RSI < 70):                                            # RSI 과매수/과매도 구간 회피                        [TA-Lib]
    매수 = False
elif not (MACD > MACDS and MACD_N(1) <= MACDS_N(1)):                         # MACD 골든크로스                                   [TA-Lib]
    매수 = False
elif not (현재가 > BBL and 현재가 < BBU):                                    # 볼린저밴드 중간 영역                              [TA-Lib]
    매수 = False

# 최종 매수 실행
else:
    매수 = True
```

## 매도 조건식
```python
매도 = False

# 상한가 근접 조건
if 등락율 > 29.5:                                                             # 상한가 근접 시 매도                               [순수 변수]
    매도 = True
elif 3.0 <= 수익률:                                                          # 수익률 3% 이상 시 이익 실현                       [순수 변수]
    매도 = True
elif 수익률 <= -4.5:                                                         # 수익률 -4.5% 이하 시 손절                        [순수 변수]
    매도 = True
elif 최고수익률 - 수익률 >= 2.0:                                             # 최고수익률 대비 2% 이상 하락 시 매도               [순수 변수]
    매도 = True

# 시가총액별 매도 조건 분기
elif 시가총액 < 2500:                                                         # 시가총액 2500억 원 미만 (중소형 종목)             [순수 변수]
    # 중소형 종목 매도 조건
    if -1 < 수익률 <= 10 and (분당매도수량 - 분당매수수량) >= 매수총잔량 * 0.7:  # 수익률 -1%~10%에서 매도세 우위 시 매도            [순수 변수]
        매도 = True
    elif 수익률 < -2 and 체결강도N(1) > 체결강도평균(30,1) and 체결강도평균(30) > 체결강도:  # 손실 2% 이상이고 체결강도 하락 시 손절 [순수 변수]
        매도 = True
    elif 3 < 최고수익률 and 현재가N(1) >= 이동평균(60, 1) and 이동평균(60) > 현재가:  # 최고수익률 3% 초과하고 이동평균 하향 돌파 시 이익 실현 [순수 변수]
        매도 = True
else:                                                                         # 시가총액 2500억 원 이상 (대형 종목)
    # 대형 종목 매도 조건
    if -1 < 수익률 <= 10 and (분당매도수량 - 분당매수수량) >= 매수총잔량 * 0.55:  # 수익률 -1%~10%에서 매도세 우위 시 매도 (대형 55%) [순수 변수]
        매도 = True
    elif 수익률 < -2 and 체결강도N(1) > 체결강도평균(30,1) and 체결강도평균(30) > 체결강도:  # 손실 2% 이상이고 체결강도 하락 시 손절 [순수 변수]
        매도 = True
    elif 3 < 최고수익률 and 현재가N(1) >= 이동평균(60, 1) and 이동평균(60) > 현재가:  # 최고수익률 3% 초과하고 이동평균 하향 돌파 시 이익 실현 [순수 변수]
        매도 = True

# TA-Lib 지표 기반 매도
elif RSI > 75 and 수익률 > 0.3:                                              # RSI 과매수 구간에서 이익 실현                     [TA-Lib]
    매도 = True
elif MACD < MACDS and MACD_N(1) >= MACDS_N(1) and 수익률 > 0.2:               # MACD 데드크로스에서 이익 실현                    [TA-Lib]
    매도 = True
elif 현재가 < BBM and 현재가N(1) >= BBM_N(1) and 수익률 > 0.1:                 # 볼린저밴드 중심선 하향 돌파 시 매도               [TA-Lib]
    매도 = True

# 최저가 돌파 조건
elif 현재가 < 최저현재가(30, 보유시간) and 데이터길이 > 30:                     # 보유 후 최저가 돌파 시 매도(30분 기준)           [순수 변수]
    매도 = True
elif 현재가 < 최저현재가(20, 보유시간) and 데이터길이 > 20:                     # 보유 후 최저가 돌파 시 매도(20분 기준)           [순수 변수]
    매도 = True
elif 현재가 < 최저현재가(10, 보유시간) and 데이터길이 > 10:                     # 보유 후 최저가 돌파 시 매도(10분 기준)           [순수 변수]
    매도 = True
```

## 최적화 조건식

### 매수 최적화 조건식

```python

```

### 매수 최적화 범위

```python

```

### 매도 최적화 조건식

```python

```

### 매도 최적화 범위

```python

```

### 매수 매도 최적화 범위

```python

```

### 예상 시간 계산

각 변수의 범위 갯수를 곱하여 모든 경우의 수를 계산합니다.

- **매도 조건 변수 범위**: 
  - 1 × 6 × 5 × 3 × 4 × 5 × 4 × 3 × 5 × 5 × 5 × 4 × 3 × 5 × 5 = 1,687,500
- **매수 조건 변수 범위**: 
  - 3 × 3 × 3 × 3 × 3 × 3 × 3 × 2 × 3 × 3 × 3 × 3 × 3 × 3 × 3 × 3 × 3 × 3 × 3 × 3 = 1,162,261,467
- **총 경우의 수**: 
  - 1,687,500 × 1,162,261,467 = 1,961,949,375,000,000

각 경우에 1분이 걸린다고 가정하면:
- **분**: 1,961,949,375,000,000분
- **시간**: 1,961,949,375,000,000 / 60 = 32,699,156,250,000시간
- **일**: 32,699,156,250,000 / 24 = 1,362,464,843,750일
- **년**: 1,362,464,843,750 / 365 ≈ 3,732,785,058년

**가정**: 각 경우의 수를 처리하는 데 1분이 소요된다고 가정하였습니다. 이는 현실적으로 불가능한 시간이므로, 범위를 더 좁히거나 간격을 늘려야 할 것입니다.

---

### GA 최적화 범위

- GA 최적화 변환 방법 및 원리:
  - 기존의 최적화 범위는 `self.vars[정수] = [[시작값, 종료값, 간격], 최적값]` 형식으로 설정됩니다.
  - GA 최적화에서는 이 범위를 `self.vars[정수] = [전체 리스트, 최적값]` 형식으로 변환합니다.
  - 전체 리스트는 시작값부터 종료값까지 간격에 따라 생성된 값들의 집합입니다.
  - 예를 들어, `self.vars[1] = [[0, 10, 1], 3]`는 `self.vars[1] = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 3]`로 변환됩니다.
  - GA 최적화는 이 전체 리스트를 사용하여 유전 알고리즘을 통해 최적의 값을 탐색합니다.
  - 유전 알고리즘은 자연 선택, 교차, 돌연변이 등의 과정을 통해 최적의 해를 찾습니다.
  - 최적값은 유전 알고리즘 실행 후 도출된 최적의 값으로 설정됩니다.
  - 이 방법은 탐색 공간을 명시적으로 정의하여 GA가 보다 효율적으로 탐색할 수 있도록 돕습니다.

```python

```

## 참고사항
- 각 조건에는 [순수 변수] 또는 [조합 변수: 설명] 형태로 변수 유형을 표시했습니다.
- 순수 변수는 Back_Testing_Guideline_Min.md에 직접 명시된 변수입니다.
- 조합 변수는 여러 기본 변수를 조합하여 만든 표현식입니다.
- 틱 데이터의 초당 단위를 분당 단위로 변환하여 적용했습니다.
- 분봉 데이터에서 사용 가능한 TA-Lib 지표들을 추가로 활용했습니다.
- 시가총액별 차별화된 조건을 유지하면서 분봉 환경에 맞게 조정했습니다.
- 모든 조건은 백테스팅 시스템에서 오류 없이 실행될 수 있도록 가이드라인에 맞게 작성되었습니다.

**최종 업데이트: 2025-07-13 (틱→분봉 변환 버전)**



---

## 최적화 조건식

## BO (Buy Optimization)

```python
# 기본 매수 조건을 self.vars로 변환
# 주요 변수만 최적화 대상으로 선정
# self.vars[0] 사용 - 값: 1
# self.vars[1] 사용 - 값: 3
# self.vars[2] 사용 - 값: 5
# self.vars[3] 사용 - 값: 25
# self.vars[4] 사용 - 값: 30
# self.vars[5] 사용 - 값: 60
# self.vars[6] 사용 - 값: 2000
```

## BOR (Buy Optimization Range)

```python
self.vars[0] = [[1, 1, 1], 1]  # 카운트 (1)
self.vars[1] = [[2, 3, 1], 3]  # 카운트 (3)
self.vars[2] = [[3, 6, 1], 5]  # 카운트 (5)
self.vars[3] = [[17, 32, 5], 25]  # 임계값 (25)
self.vars[4] = [[21, 39, 5], 30]  # 임계값 (30)
self.vars[5] = [[42, 78, 5], 60]  # 임계값 (60)
self.vars[6] = [[1400, 2600, 1000], 2000]  # 대금 (2000)
```

## SO (Sell Optimization)

```python
# 기본 매도 조건을 self.vars로 변환
# 주요 변수만 최적화 대상으로 선정
# self.vars[7] 사용 - 값: 0.75
# self.vars[8] 사용 - 값: 2
# self.vars[9] 사용 - 값: 3
# self.vars[10] 사용 - 값: 5
# self.vars[11] 사용 - 값: 29
# self.vars[12] 사용 - 값: 30
```

## SOR (Sell Optimization Range)

```python
self.vars[7] = [[0.5, 1.0, 0.1], 0.75]  # 비율 (0.75)
self.vars[8] = [[1, 2, 1], 2]  # 카운트 (2)
self.vars[9] = [[2, 3, 1], 3]  # 카운트 (3)
self.vars[10] = [[3, 6, 1], 5]  # 카운트 (5)
self.vars[11] = [[20, 37, 5], 29]  # 임계값 (29)
self.vars[12] = [[21, 39, 5], 30]  # 임계값 (30)
```

## OR (Optimum Range)

핵심 변수만 선별하여 최적화 (최대 10개)

```python
self.vars[0] = [[0.5, 1.0, 0.1], 0.75]  # 비율 (0.75)
self.vars[1] = [[1, 2, 1], 2]  # 카운트 (2)
self.vars[2] = [[2, 3, 1], 3]  # 카운트 (3)
self.vars[3] = [[3, 6, 1], 5]  # 카운트 (5)
self.vars[4] = [[20, 37, 5], 29]  # 임계값 (29)
self.vars[5] = [[21, 39, 5], 30]  # 임계값 (30)
self.vars[6] = [[1, 1, 1], 1]  # 카운트 (1)
self.vars[7] = [[2, 3, 1], 3]  # 카운트 (3)
self.vars[8] = [[3, 6, 1], 5]  # 카운트 (5)
self.vars[9] = [[17, 32, 5], 25]  # 임계값 (25)
```

**예상 경우의 수**: 약 10,000,000,000

## GAR (Genetic Algorithm Range)

```python
self.vars[0] = [[0.5, 1.0], 0.75]  # 비율 (0.75)
self.vars[1] = [[1, 2], 2]  # 카운트 (2)
self.vars[2] = [[2, 3], 3]  # 카운트 (3)
self.vars[3] = [[3, 6]]  # 카운트 (5)
self.vars[4] = [[20, 37], 29]  # 임계값 (29)
self.vars[5] = [[21, 39], 30]  # 임계값 (30)
self.vars[6] = [[1, 1]]  # 카운트 (1)
self.vars[7] = [[2, 3], 3]  # 카운트 (3)
self.vars[8] = [[3, 6]]  # 카운트 (5)
self.vars[9] = [[17, 32], 25]  # 임계값 (25)
```

## 조건식 개선 방향 연구

### 1. 추가 지표 활용 연구

**우선순위: 높음**
- **TA-Lib 지표 조합 확대**
  - ADX (추세 강도) + DMI (방향성) 조합
  - Ichimoku Cloud (일목균형표) 활용
  - 구현 난이도: 중

- **변동성 지표 추가**
  - ATR (Average True Range) 기반 손절폭 설정
  - Bollinger Band Width로 변동성 확대 구간 포착
  - 구현 난이도: 낮음

### 2. 시간대별 전략 세분화 연구

**우선순위: 높음**
- **장 시간대별 분봉 전략 차등화**
  - 09:00-10:00: 5분봉 전략
  - 10:00-14:00: 10분봉 전략
  - 14:00-15:00: 3분봉 전략
  - 구현 난이도: 중

### 3. 매도 조건 고도화 연구

**우선순위: 높음**
- **TA-Lib 매도 신호 강화**
  - MACD 데드크로스 + RSI 과매수 조합
  - Stochastic %K/%D 하향 교차 시 매도
  - 구현 난이도: 낮음

- **이동평균선 이탈 기반 매도**
  - 5MA 하향 돌파 시 경고
  - 20MA 하향 돌파 시 청산
  - 구현 난이도: 낮음

### 4. 리스크 관리 강화 연구

**우선순위: 높음**
- **다중 시간프레임 분석**
  - 1분봉 + 5분봉 + 10분봉 동시 확인
  - 상위 시간프레임 추세와 부합 시만 진입
  - 구현 난이도: 중

- **거래량 프로파일 분석**
  - 가격대별 거래량 분포 확인
  - 고거래량 구간 지지/저항 활용
  - 구현 난이도: 높음

### 5. 최적화 전략 개선 연구

**우선순위: 중간**
- **TA-Lib 파라미터 최적화**
  - RSI 기간: 14 → 10~20 범위 탐색
  - MACD (12,26,9) → (8,17,9) 등 변형 테스트
  - 구현 난이도: 중

- **기계학습 기반 지표 가중치 최적화**
  - 각 TA-Lib 지표의 예측력 평가
  - 가중치 동적 조정
  - 구현 난이도: 높음

### 구현 우선순위

1. **1단계 (즉시 구현)**:
   - 변동성 지표 추가 (ATR, BB Width)
   - TA-Lib 매도 신호 강화
   - 이동평균선 이탈 기반 매도

2. **2단계 (1개월 내)**:
   - TA-Lib 지표 조합 확대 (ADX, DMI, Ichimoku)
   - 시간대별 분봉 전략 차등화
   - 다중 시간프레임 분석

3. **3단계 (3개월 내)**:
   - TA-Lib 파라미터 최적화
   - 거래량 프로파일 분석
   - 기계학습 기반 최적화

