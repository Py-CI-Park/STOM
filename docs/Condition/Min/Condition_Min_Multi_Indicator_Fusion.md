# 조건식 - 다중지표 융합 전략

## 소개
**조건식 이름**: 다중지표 융합 전략
**거래 시간**: 900 ~ 1518
**목표**: RSI+MACD+BBand 복합 신호 활용

## 조건식

### 매수 조건식
```python
RSI상승신호 = (RSI > 50 and RSI_N(1) < 48)
MACD골든크로스 = (MACD > MACDS and MACD_N(1) <= MACDS_N(1))
볼린저하단반등 = (현재가_N(1) <= BBL_N(1) and 현재가 > BBL)

if not (900 <= 시분초 <= 1518):
    매수 = False
elif not (1150 < 현재가 <= 49000):
    매수 = False
elif not (1.2 < 등락율 <= 26.8):
    매수 = False
elif 시가총액 < 1500:
    # 3개 지표 중 2개 이상 만족
    신호수 = 0
    if RSI상승신호:
        신호수 += 1
    if MACD골든크로스:
        신호수 += 1
    if 볼린저하단반등:
        신호수 += 1

    if not (신호수 >= 2):
        매수 = False
    elif not (분당거래대금 > 분당거래대금평균(30) * 1.7):
        매수 = False
    elif not (체결강도 > 131):
        매수 = False
    elif not (전일비 > 35):
        매수 = False
    elif not (현재가 > 이동평균(20)):
        매수 = False
    elif not (등락율각도(14) > 5):
        매수 = False

elif 시가총액 < 3000:
    신호수 = 0
    if RSI상승신호:
        신호수 += 1
    if MACD골든크로스:
        신호수 += 1
    if 볼린저하단반등:
        신호수 += 1

    if not (신호수 >= 2):
        매수 = False
    elif not (분당거래대금 > 분당거래대금평균(30) * 1.6):
        매수 = False
    elif not (체결강도 > 127):
        매수 = False
    elif not (전일비 > 40):
        매수 = False
    elif not (현재가 > 이동평균(20)):
        매수 = False
    elif not (등락율각도(14) > 6):
        매수 = False

else:
    신호수 = 0
    if RSI상승신호:
        신호수 += 1
    if MACD골든크로스:
        신호수 += 1
    if 볼린저하단반등:
        신호수 += 1

    if not (신호수 >= 2):
        매수 = False
    elif not (분당거래대금 > 분당거래대금평균(30) * 1.5):
        매수 = False
    elif not (체결강도 > 123):
        매수 = False
    elif not (전일비 > 45):
        매수 = False
    elif not (현재가 > 이동평균(20)):
        매수 = False
    elif not (등락율각도(14) > 7):
        매수 = False
```

### 매도 조건식
```python
RSI하락신호 = (RSI > 73)
MACD데드크로스 = (MACD < MACDS and MACD_N(1) >= MACDS_N(1))
볼린저상단돌파 = (현재가 > BBU)

if 등락율 > 29.7:
    매도 = True
elif 수익률 >= 5.5:
    매도 = True
elif 수익률 <= -2.4:
    매도 = True
elif 최고수익률 - 수익률 >= 3.6:
    매도 = True
elif 보유시간 > 140:
    매도 = True

# 3개 지표 중 2개 이상 매도 신호
매도신호수 = 0
if RSI하락신호:
    매도신호수 += 1
if MACD데드크로스:
    매도신호수 += 1
if 볼린저상단돌파 and 현재가 < 현재가N(1):
    매도신호수 += 1

if 매도신호수 >= 2:
    매도 = True
elif 현재가 < 이동평균(20) * 0.98:
    매도 = True
```

## 최적화 범위
```python
# BOR
self.vars[0] = [[850, 1650, 400], 1150]
self.vars[1] = [[39000, 59000, 10000], 49000]
self.vars[2] = [[0.8, 2.0, 0.4], 1.2]
self.vars[3] = [[24.8, 28.8, 2.0], 26.8]
self.vars[4] = [[1000, 2000, 500], 1500]
self.vars[5] = [[45, 55, 5], 50]
self.vars[6] = [[43, 53, 5], 48]
self.vars[7] = [[1, 2, 1], 2]
self.vars[8] = [[1.4, 2.0, 0.2], 1.7]
self.vars[9] = [[121, 146, 5], 131]
self.vars[10] = [[30, 60, 10], 35]
self.vars[11] = [[4, 9, 1], 5]

# SOR
self.vars[12] = [[29.2, 29.8, 0.3], 29.7]
self.vars[13] = [[4.0, 7.5, 1.0], 5.5]
self.vars[14] = [[-3.5, -1.7, 0.5], -2.4]
self.vars[15] = [[2.8, 5.0, 0.5], 3.6]
self.vars[16] = [[120, 180, 20], 140]
self.vars[17] = [[68, 78, 5], 73]
self.vars[18] = [[0.96, 0.99, 0.01], 0.98]

# GAR
self.vars[0] = [[850, 1150, 1650], 1150]
self.vars[1] = [[39000, 49000, 59000], 49000]
self.vars[2] = [[0.8, 1.2, 1.6, 2.0], 1.2]
self.vars[3] = [[24.8, 26.8, 28.8], 26.8]
self.vars[4] = [[1000, 1500, 2000], 1500]
self.vars[5] = [[45, 50, 55], 50]
self.vars[6] = [[43, 48, 53], 48]
self.vars[7] = [[1, 2], 2]
self.vars[8] = [[1.4, 1.5, 1.6, 1.7, 1.8, 2.0], 1.7]
self.vars[9] = [[121, 126, 131, 136, 141, 146], 131]
self.vars[10] = [[30, 35, 40, 45, 50, 60], 35]
self.vars[11] = [[4, 5, 6, 7, 8, 9], 5]
self.vars[12] = [[29.2, 29.5, 29.7, 29.8], 29.7]
self.vars[13] = [[4.0, 5.0, 5.5, 6.5, 7.5], 5.5]
self.vars[14] = [[-3.5, -3.0, -2.7, -2.4, -2.0, -1.7], -2.4]
self.vars[15] = [[2.8, 3.2, 3.6, 4.2, 4.6, 5.0], 3.6]
self.vars[16] = [[120, 140, 160, 180], 140]
self.vars[17] = [[68, 71, 73, 75, 78], 73]
self.vars[18] = [[0.96, 0.97, 0.98, 0.99], 0.98]
```

## 태그
`#분봉전략` `#다중지표` `#RSI+MACD+BBand` `#900-1518` `#융합전략` `#최적화`
