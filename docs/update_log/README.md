# 백테스팅 차트 분석 강화 - 간단 요약

**업데이트 날짜**: 2025년 12월 13일
**커밋 해시**: f931ca8d149fdf58baa29742e33e0e3a973b5252

---

## 📌 핵심 요약

백테스팅 차트의 가독성과 분석 능력을 대폭 강화했습니다.

### ✅ 주요 개선 사항 (5가지)

| # | 개선 항목 | 내용 | 효과 |
|---|----------|------|------|
| 1 | 위험도 공식 표시 | 차트 타이틀에 위험도 계산 공식 직접 표시 | 사용자가 계산 방식 즉시 이해 |
| 2 | 동적 X축 세분화 | 데이터 범위에 따라 자동으로 bins 조정 | 데이터 분포에 맞는 세밀한 분석 |
| 3 | 타임프레임 자동 감지 | Tick/Min 자동 인식 및 표시 | 데이터 타입에 맞는 분석 |
| 4 | 시너지 히트맵 | 필터 조합 효과 시각화 (NEW 차트) | 어떤 조합이 효과적인지 한눈에 파악 |
| 5 | 효율성 곡선 | 최적 임계값 시각화 (NEW 차트) | 최적 임계값을 쉽게 찾기 |

---

## 📊 차트 비교

### 개선 전
- 총 14개 차트
- 5행 x 3열 = 15칸
- 고정된 X축 bins
- 위험도 공식 표시 없음

### 개선 후
- 총 16개 차트 (+2)
- 6행 x 3열 = 18칸 (+3)
- 데이터 기반 동적 X축 bins
- 위험도 공식 타이틀에 표시
- 시너지 히트맵 추가 ⭐
- 효율성 곡선 추가 ⭐

---

## 🎯 새로운 차트 설명

### Chart 14: 필터 조합 시너지 히트맵
- **위치**: Row 5, Column 0
- **내용**: 2개 필터 조합의 시너지 비율
- **색상**:
  - 녹색 (양수) = 시너지 증가(좋은 조합)
  - 노랑 (0 근처) = 영향 미미
  - 빨간색 (음수) = 시너지 감소(나쁜 조합)
- **활용**: 효과적인 필터 조합 발견

### Chart 15: 최적 임계값 효율성 곡선
- **위치**: Row 5, Column 1
- **내용**: 제외비율 대비 효율성 곡선
- **표시**: 별표(★)로 최적점 표시
- **활용**: 최적 임계값 시각적 파악

---

## 🔧 동적 X축 세분화 예시

### 등락율 차트
| 데이터 범위 | bins 간격 | 예시 |
|------------|----------|------|
| > 25% | 5% 단위 | 0, 5, 10, 15, 20, 25, 30, 100 |
| 15-25% | 3% 단위 | 5, 8, 11, 14, 17, 20, 23, 100 |
| < 15% | 2% 단위 | 5, 7, 9, 11, 13, 15, 100 |

### 체결강도 차트
| 데이터 범위 | bins 간격 | 예시 |
|------------|----------|------|
| > 150 | 기존 방식 | 0, 80, 100, 120, 150, 200, 500 |
| 80-150 | 20 단위 | 80, 100, 120, 140, 160, 500 |
| < 80 | 10 단위 | 50, 60, 70, 80, 90, 100, 500 |

---

## 📝 위험도 공식

차트 타이틀에 다음과 같이 표시됩니다:

```
위험도 공식:
• 등락율변화<-2: +15, <-5: +10
• 체결강도변화<-15: +15, <-30: +10
• 호가잔량비변화<-0.3: +15
• 거래대금변화율<0.6: +15
• 매수등락율>20: +10, >25: +10
```

**최대 위험도**: 100점

---

## 🚀 바로 사용하기

업데이트 후 백테스팅을 실행하면 자동으로 강화된 차트가 생성됩니다.

### 생성되는 파일
```
backtester/graph/
└── {name}_enhanced.png  ← 16개 차트 포함
```

### 확인 사항
✅ 위험도 차트 타이틀에 공식 표시됨  
✅ X축이 데이터 범위 표시 (예: "범위: 5.0%-18.5%")  
✅ 메인 타이틀에 타임프레임 표시 (예: "Tick 데이터")  
✅ Row 5에 시너지 히트맵과 효율성 곡선 표시  

---

## 📚 상세 문서

전체 업데이트 내용은 다음 문서를 참조하세요:
- `docs/update_log/2025-12-13_백테스팅_차트_분석_강화.md`

---

**작성자**: Claude (Antigravity AI)  
**버전**: 1.0
