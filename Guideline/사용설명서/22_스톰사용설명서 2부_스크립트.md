
### 
- 오늘은 교통  사용 설명서  2부, 주된 내용은 이제 설정 창에  일반 설정 과  주문 설정 에 대한 설명을 해드리겠습니다. 설정 탭은  일반 설정 과  주문 설정 , 두 가지가 있고요. 다른 설정에서는 증권사 또는  거래소 를 선택하거나, 실행할 프로세스를 선택하거나, 계정 설정을 하고, 코인 텔레그램  전략 설정 , 코인  전략 설정 , 백테스트 관련 설정, 그리고 기타 설정 이렇게 있어요.    제가 이제 데이터베이스를 다 지우고 새로 로딩을 했는데, 계정 때문에 다시 덮어쓰기를 했어요. 기본 설정으로 바꿔 볼게요. 요거는 이제 없을 거예요.    그죠? 다른 분들은 기본 설정이 이렇게 돼 있고, 음, 이렇게, 이것도 이렇게, 요건 이렇게, 이렇게 음, 사용 안함 기본 설정은 이렇게 되어 있어요. 근데 이제 계정이 없겠죠? 그죠? 계정 값이 없을 거예요. 초기 설정에서도 잠시 설명을 했지만, 계정은 이제 4개를 저장할 수 있어요.    주식 계정은 키움증권 1로 해서  리시버 용, 두 번째 거  트레이더 용, 첫 번째 거 이렇게 저장할 수 있고요. 그 다음에 키움 2로 해가지고 두 번째 계정, 첫 번째 계정 이렇게 할 수 있어요. 그죠? 한 컴퓨터에서 혹시나 2개를 실행하시는 분들이 계셔서 일부러 이렇게 만들어 둔 거예요.    그렇기도 하고, 그리고 나중에 보면 여기 주식 1봉, 본봉 다운로드를 할 때 계정이 많으면 빠르게 다운로드를 할 수 있기 때문에 이렇게 두 개가 됐어요. 그죠? 하나당  리시버  하나,  트레이더  하나,  트레이더 가 첫 번째,  리시버 가 두 번째예요. 1, 2, 1 일반적으로 TIC만 모을 경우  리시버 랑 콜렉터만 선택하시면 돼요.    그죠?  트레이더 는 작동하실 필요가 없고, 만약에 모임이라도 전략을 테스트해 보신다면 주식  트레이더 까지 실행을 해야겠죠? 그죠? 이런 형태로, 그리고 초기 설정에서 말씀드렸는지 모르겠는데 다시 한번 설명해 드릴게요. 주식 관심 종목 같은 경우 장초 전략 종료시간 현재는 9시 30분으로 되어 있죠. 이렇게 그 전까지는 무조건 0번 검색식을 써요.    이 두 번째 아이디로 접속해서 만든  조건 검색식  0번, 그 다음 순위 100이 들어간 그  조건 검색식 을 사용하고요. 그 다음에 장중 전략일 때는 두 가지 중에 하나를 선택할 수 있어요. 그래서 보면 주식 장중 전략, 관심종목 선택이 되어 있죠.    그죠? 2번 조건검색식을 사용하기를 하면 두 번째 계정으로 HTS에서 접속해서 0번과 1번 말고 2번으로 별도로 본인이 만들어야 돼요. 그죠? 그걸 해야지만 2번 조건검색식 사용하는 거구요. 그게 아닐 때는 기본적으로 최근 거래대금 순위 5분간 50위를 대상으로 장중에 매매를 하게 됩니다.    장중 관심 종목은 5분간 50위에요. 제가 해보니까 이게 가장 적당해서 이런 형태로 해뒀구요. 이걸 늘리거나 줄여도 되는데, 명심하실 것은 순위를 너무 줄이면 타점이 늘어지고, 순위가 너무...    많으면 불필요한 저 변동성이 적은 종목을 매매할 수도 있다는 거, 그거를 명심하셔야 돼요. 요건 장세에 따라서 조금 틀리긴 해요. 그런데도 52가 가장 적당해서 이렇게 기본적으로 설정이 되어 있습니다.    그리고 코인 쪽은 이제  거래소 를 업비트나 바이낸스 선물을 선택할 수 있고요. 그죠? 자, 이렇게 이제 파이낸스 선물이 기본적으로 선택되어 있고요. 여기도 똑같이 거래만 하려면  리시버 랑  트레이더 만 하면 되고, 틱을 모으려면 콜렉터까지 이렇게 실행하셔야 됩니다.    주식도 마찬가지로 거래만 하려면 이렇게  트레이더  여러 전략을 운영해 여러 개의 컴퓨터로 여러 개의 전략을 운영하다 보면 데이터는 하나만 모으면 돼요. 그죠? 데이터 모으는 것은 이렇게 다 실행해야 되지만, 아닌 것은 콜렉터는 지우시면 돼요. 이런 형태로 코인도 마찬가지, 이렇게 해서 선택하시면 돼요.    그죠? 저는 일단 여기는 데이터를 안 모으기 때문에 이런 형태로 저장해 둘게요. 그죠? 그리고 코인 같은 경우  조건 검색식 을 쓰지 않고 바로 5분간 12등수만 이렇게 관심 종목에 표시됩니다. 실제로 이제 매매 대상은 여기서 3종목을 뺀 7개, 7등까지만 매매가 돼요.    요걸 또 명심하셔야 돼요. 코인 같은 경우 틱을 이제 다 모을 수가 없기 때문에 24시간이라서 이런 형태로 씁니다. 여기서 마이너스 3종목 해서 매매가 되니까, 만약에 그 세 종목이 아깝다면 13을 하든지 이렇게 하시면 돼요.    그죠? 기본은 10개로 되어 있어요. 7등 안에 들어와야지만 매매가 돼요. 3개를 빼고 매매를 하니까, 바이낸스 선물 같은 경우  레버리지 를 별도로 이렇게 고정이나 기본 블록을 하면 고정으로 되어 있죠.    변동성으로 변동  레버리지 를 해서 저가 대비 고가 등량 당일에 따라서  레버리지 를 바꿀 수도 있어요.  레버리지  유형 및 수치 설정에서 하면 되고요. 마진 타입과 포지션은 현재 격리랑 단방향만 지원합니다.    교차랑 양방향은 지원하지 않아요. 주식 같은 경우 이제 실행 프로그램을 실행하면 이  리시버 랑 트레이드가 체크가 되어 있으면, 그죠? 그게 실행하는 시간이 이렇게 정해져 있어요. 이렇게 8시 40분, 8시 45분 이렇게 정해져 있어요.    그런데 이것을 사용하지 않고, 그쵸? 일단 저는 저장 한번 할게요. 사용하지 않고 우리가  스톰 마스터  폴더에 보면 '스톰 30'에 '스톡 로그인 bat' 파일이 있어요. 그죠? 요거는 바로 실행하자마자 로그인이 진행이 돼요.    그죠? 그래서 보통 예전에 초기 설정에서는 요거를 등록을 했었는데, 작업 스케줄러에서 실행하자마자 로그인을 하시려면 요걸 하시면 돼요. 요게 왜 필요하냐면 한 컴퓨터에서 두 개를 킬 경우, 그리고 동시에 실행되면 안 돼요. 그죠? 그러면 윈 API로 제어를 할 수가 없어요.    동시에 뜨기 때문에 로그인 창이. 그래서 로그인을 동시에 뜨지 않고... 바로바로 로그인을 하려면, 요거를 작업 스케줄러에 40분에 하나, 50분에 하나, 뭐 이런 형태로 작업 스케줄로 등록해 두시면, 실행하자마자 로그인이 되니까, 그죠? 그런 형태로 요걸 사용하셔도 돼요.    그리고 하나에 하나만 하시더라도 요게 편합니다. 요게 실행되자마자 로그인하는 걸로 요걸 하는 게 편해요. 그래서 한 8시 40분 정도에 요게 실행되도록 작업 스케줄로 등록하시면 되기도 합니다.    계정은 말 그대로 지금은 점으로 되어 있지만, 원래 입력할 때도 점이죠. 보기를 하려면, 계정 텍스트 보기에서 첫 번째 계정의 비밀번호 요거를 입력하면 보여요. 지금 보여드릴 수는 없으니까 이렇게 둘게요.    그래서 저장할 때 기준은 키움증권 1이 되어 있으면, 1의 저장이 2개가 저장되고, 이게 2로 되어 있으면 2의 저장이 돼요. 그래서 총 4개를 등록할 수 있다는 거 알고 계시구요. 코인 계정도 스킬 시크릿 키를 이렇게 입력하고 저장하면 되구요.    텔레그램 봇을 불러오고 저장하면 됩니다. 텔레그램 관련해서 봇 끈 하고 채팅 아이디를 가져오는 것은, 어 스톰, 어게 스톰, 이제 우리의 단톡방이 적죠? 단톡방에 공지를 들어가서 그죠? 공지에 상세보기를 누르면 여기 위키독스가 있어요. 중요 위키독스 링크, 거기에 보면 텔레그램 봇 만들기, 토큰 및 채팅방 아이디 요게 있어요.    클릭해서 보시면, 여기에 블로그에 대한 설명이 그대로 돼 있거든요. 자세하게 요걸 보시고 텔레그램 봇을 만드시면 됩니다. 자, 요거까지 안내해 드릴 거 잠깐만요, 채팅창 정렬 좀 하고요, 됐어요.  
### 
- 그리고 다음, 이제 주식 전략을 설정을 하고 배팅 금액 설정하고 하는 거예요. 기본적으로 주식, 코인 모두 모의투자 모두 상태로 세팅이 되어 있어요. 그리고 매수, 매도 나 알림 소리를 듣게끔 되어 있구요.    그 다음에 기본적으로 투자금 고정이 되어 있는가 모르겠네요. 요거는 이제 투자금 고정을 선택을 안 하면, 총 자산에서 요거를 최대 종목 수 있죠? 요거를 나눠서 배팅을 하게끔 되구요, 그죠? 그걸 안 하고 투자금 고정을 선택하면, 요거를 무시하고 한 종목당 요금에 그대로 매수가 됩니다. 그게 이제 장초, 장중 두 가지가 구분되어 있구요.    전략은 이제  최적화 전략 이나 계양 전략이나 작성을 하게 되면 여기에 떠요. 그래서 그 장소 전략으로 사용할 전략 매수, 매도 전략을 이렇게 선택하시면 되구요. 평균값 팁스는 보통 30을 사용하고 있죠, 그죠? 자, 이 평균값 팁스는 뭐냐면 우리가 팩터에 최고 체결 강도나 최저 체결 강도, 그리고 체결 강도 평균값을 써요.    30, 30, 30, 30, 30, 건지 정하는 거고요. 이 부분은 이제 최적화를 돌리면 적정 최대 매수 종목 수가 정해집니다. 백테를 하면 그걸 가지고 이렇게 입력하시면 되요.    그리고 전략 종료 시간은 기본적으로 9시 30분으로 되어 있구요, 장중은 3시 29분으로 되어 있습니다. 있어요.  
### 
- 그리고 전략 종료할 때 잔고 청산을 할지 안 할지, 프로세스 종료를 할지 안 할지 이렇게 돼서, 9시 30분에 프로세스 종료를 하면 데이터 자체는 이 프로세스 종료 기준으로 데이터가 저장되기 때문에 9시 30분 이후에 데이터는 없어요. 근데 만약에 장 마감까지 모으려면 이렇게 해야 돼요. 그쵸? 장 마감까지 데이터를 다 모으시려면 요걸 밑으로 해야 돼요.    그래서 이 데이터는 프로그램이 중간에 꺼지면 중단이 되기 때문에 반드시 9시 이전에 프로그램이 켜지고, 데이터를 모으고 싶을 때까지 프로그램이 켜져 있어야 돼요. 그렇게 해야 돼요. 중간에 껐다 켠다고 데이터가 유지되는 게 아닙니다.    명심하셔야 되고, 그리고 나서 프로세스 종료 후에 컴퓨터를 종료할 건지 안 할 건지 선택하는 게 이렇게 있어요. 이 종료는 이렇게 요거 라든지, 뭐 아니면 요거, 요거 5개 하나만 선택할 수 있어요. 중복이 되면 안 되겠죠? 그죠? 보통 아무도 선택을 안 하십니다.    그죠? 그런 형태로 되어 있구요. 그 다음에 이제 전략 중지 관련해서, 전략 중지를 하면서 전략을 중지하려면 잔고를 전부 청산해야 돼요. 그죠? 그게 이제 손실 중지가 있고, 수익 중지가 있어요.    이 손실이나 수익 중지는 총 자산 대비  수익률 이에요. 내가 만약에 1억인데, 2%로 마이너스 2% 손실 중지 해놓으면 200만원을 잃으면 2,200 그 용도로 쓰는 게 요거예요. 코인은 다 같죠? 그죠, 다 같아요.    코인은 별도로 설명을 안 해도 되겠죠? 대신 이제 하나만 설명을 드리면, 코인 같은 경우 이렇게 저장 버튼을 누를 때 보면 이렇게 떠요. 코인은 종류, 시간이 전부 UTC 기준 시간이에요. 한국시간은 마이너스 9시간이에요.    그죠? 한국시간이 9시가 UTC 기준으로 0시에요. 그죠? 그래서 장초 전략은 이렇게 하면 되죠. 00시에 1시간 정도 한다면 1시가 되겠죠.    이렇게 형태로 한다든지, 그렇게 하셔야 돼요. 기본은 10시로 되어 있네요. 그죠? 코인 하시는 분들 더 잘하셔서 아마 이런 장초, 장중 구분 없이 막 하실 것 같은데, 그쵸? 그렇게 됩니다.  
### 
- 그리고 이제 백테 관련해서는 첫 번째는 이제 백테스트 했을 때 10회 이상 거래를 하고, 수익금이 마이너스 나면 블랙리스트에 추가하는 기기가 있어요. 요거는 너무 거래가 많은데 손실 만나는 종목은 매매를 하지 않기 위해서 만들어 둔 건데, 거의 뭐 사용은 안 하시는 것 같아요. 저도 사용해 본 적은 없어요.    어, 장기적으로 하다 보면 이게 필요할 경우도 있을 것 같아요. 그런데 이제 항상 변하기 때문에 개별 종목도 상황이 굳이 이렇게 과거에 뭐 몇 년 전에 1년 전에 마이너스가 나왔더라도 최근에 거래 안 할 필요는 없을 것 같아요. 그래서 별로 사용을 안 하시는 것 같기는 합니다.    그리고 백테의 주문 관리 설정, 수많은 주문 관리 설정을 적용을 하려면 이것을 체크해야 돼요. 이것을 체크하지 않아도 기본적으로  시장가  관련해서 호가 범위 선택, 나중에 설명하겠지만, 그런 다음 백텍 엔진을 시작하는 방법이 두 가지가 있어요. 일괄 로딩이 있고 분할 로딩이 있어요.    간단하게 적어두었지만, 일괄 로딩은 램 상의 모든 데이터를 올리고, 그래서 속도가 매우 빨라요. 분할 로딩은 별도로 이제 pickle dump를 떠서 이렇게 backtester temp 폴더에 이렇게 만들어요. 백테 DB를, 그래서 거기에서 데이터를 쭉쭉 하나씩 읽고 와서 백테가 돌아가요.    그래서 느려요. 속도는 낮지만 램 사용량은 많이 줄어들긴 하죠. 근데 전부 다 대부분 요걸 써요.    그래서 PC가 코어가 한 16코어 정도 되고, 램이 한 12GB, 8GB 정도 돼야 여유 있게 돌아갑니다. 그죠? 현재 지금 1년 정도의 데이터가 모였는데 64GB가 부족해요. 그래서 무조건 32GB 램이 3개 이상은 꼽혀야 해요.    보통은 이제 풀뱅크를 하죠. 32GB 램을 4개를 꽂아서 128GB가 됩니다. 그리고 이제 주식이나 코인에서 일봉을 사용하거나, 혹은 분봉을 사용할 수 있어요.    분봉은 1, 3, 5, 15, 30 분봉 이렇게 선택하실 수 있고요. 그리고 그 데이터를 사용하기 위해서는 데이터가 있어야겠죠. 그래서 주식 같은 경우 주기적으로 다운 받아야 돼요.    매일 실행하도록 하면 가장 좋겠죠. 그쵸? 그래서 매일 실행하도록 이렇게 실행 시간도 정할 수 있고, 그렇게 하실 수 있고, 코인은 선택을 하면 코인은 매우 빠르게 다운로드 받을 수 있기 때문에 종목도 얼마 안 되어서 25개 구동될 때 자동으로 실행됩니다. 요걸 선택하면, 그쵸? 선택해 둬도 요거를 선택 안 하면 안 돼요.    이렇게 1봉만 선택해 두면 1봉만 다운로드 할 거고, 분봉까지 선택해 두면  자동 다운로드  할 때 분봉까지 다운로드해요. 그죠? 그거예요. 요구에.    그리고 우리가 이제 조건 전략에서 특정 조건을 넣고 빼고 하면서 전략을 향상시키기 위해서 백테스트를 많이 돌리는데, 그때 이제 그래프를 뜨게 하면 그래프 기다리는 시간이 길기 때문에, 그래프는 거의 안 보고 결과만 보기 때문에 그럴 때 그래프가 불필요하죠. 시간은 많이 걸리기 때문에, 그럴 경우 요거 두 개를 체크하면, 그래프는 저장을 하고 띄우지 않게 하면 요것도 시간 좀 걸려요. 저장하지 않게 하면 띄우지 않기가 자동으로 선택돼요.    저장하지 않으면서 그래프 띄우지 않기, 이거 뭐냐 이렇게 하면 안 되는데, 이것도 같이 되어야 되는데, 그쵸? 이렇게 안 띄워져야 되는데, 이거 하나 추가해야겠네요. 그쵸? 저장하지 않게 하면 자동으로 그래프도 안 뜹니다. 그래프도 안 떠요.    그렇게 빨리 백테스트를 돌릴 때는 이걸 하시면 되고요. 그 다음에 매일매일 틱 콜렉터를 사용하고 있는 것은 주식 DB 자동 관리를 해서 콜렉터 종료가 떠야 이게 실행이 되기 때문에, 콜렉터를 실행하나 안 하하나 요거는 체크가 기본적으로 되어 있어요. 그럼 일자별 분리를 한 다음에, backtp를 추가하고 나서 tick 데이터를 지우고 그렇게 됩니다.    그리고 이제 backtp에서 보면 그 최적화를 하는 방법이 이렇게 세 가지가 있어요: 검증 최적화, 교차 검증, 분할 검증. 요건 이제 전략 탭 설명할 때 자세하게 설명이 되겠지만, 이 교차 검증은 Cross Validation Optimizer라고 하는데, 이 검증 기간을 여러 구간으로 나눠서 교차 검증을 하게 돼요. 그런데 이제 같은 기준 값으로 같은 비율로 하니까, 최근 데이터에 반영이 좀 덜 되어 있어서, 그죠? 최근 데이터에 가중치를 주는 게 요 설정이에요.    그래서 가장 최근에 검증 기간에 가중치를 더 줘서 Backtest Scheduler 배치 파일에 보면, 64bit Backtest Scheduler라고 있어요, 그쵸? 요게 실행될 때, 요 설정이 자동으로 실행돼요. 그래서 주식을 할 건지, 주식 스케줄러를 실행할 건지, 코인용 스케줄러를 실행할 건지 선택을 하고, 스케줄러에서 스케줄명을 저장을 하면 여기에 뜹니다, 그쵸? 그리고 그때 엔진 시작일자는 어떻게 할 건지 이렇게 우리가 3월 23일부터 되어 있기 때문에, 이걸 줄이려면 줄일 수도 있구요, 그쵸? 이렇게 해서 자동으로 배치 파일이 실행될 때 자동으로 실행되는 설정은 여기서 하시면 돼요, 그죠? 그리고 마지막에 지금 많이들 안 쓰시긴 한데, 만약에 램 용량이 아주 적을 경우, 뭐 한 8GB만 돼도, 8GB로 장 마감까지는 못 모으겠네요, 그죠? 램 용량이 아무래도 적을 경우 데이터를 장 마감까지 모으면 콜렉터가 8개가 실행되는데, 혹시나 램 용량이 부족할 수가 있어요. 그럴 때 쓰는 게 주식 데이터 자동 저장 버튼이에요.    요거는 30분마다 저장하고 비워버려요, 램을. 그래서 요걸 쓰는데 대부분 안 쓰시는 것 같아요. 보통 요즘 뭐 16GB는 기본이니깐요, 그쵸? 아무도 안 쓰시는 것 같아요.    그리고 UI의 테마 색깔은 현재는 다크 블루 색상이고요. 테마 색상이 이렇게 총 6개가 있어요. 이렇게 해서 뭐 다른 전략 같은 경우, 전략이 다르면 색깔을 바꾸든지 해서 선택해서 재실행하면 적용이 됩니다.    그리고 저해상도 모드에서 우리가 지금 차트 창 같은 경우, 이렇게 세로 픽셀이 1440에 최적화되어 있어요. 그래서 1080밖에 안 되는 분들은 요거를 선택해서 차트 창을 띄우면 차트 창이 지금 요건 재구동해야 돼요. 1080 스톰 창이 실행이 됩니다.    그게 이거예요. 그리고 주식 실행 후 9시 1분 또는 10분간 장 운영 알림을 받지 못할 경우, 프로세스 종료하기. 우리가 컴퓨터를 매일 8시 30분경 켜지게 하고, 쓰던 프로그램은 35분경 실행되도록 하면 장이 운영이 안 되는 날은 프로세스를 종료해야 돼요, 그쵸? 요거, 요걸로.    그리고 만약에 필요하면 휴무 종료, 여기 휴무. 종료란 뜻이죠. 휴무 종료의 경우, 컴퓨터도 종료하도록 이렇게 설정하실 수 있어요.    요거 두 개를 해 놓으면 장이 안 서는 날은 자동으로 켜져서 기다리다가 종료됩니다. 9시 1분 또는 10분간 안 오면 그쵸? 근데 일반적으로 그 서버나 이런 데서는 종료할 필요는 없겠죠? 그죠, IDC를 이용하거나 할 때는 요걸 할 필요가 없기 때문에 요거를 해제해 놨어요. 기본적으로 그죠, 스톱 라이브 참여하기는 설명을 했고, 그 다음에 프로세스 종료 시 프로그램도 종료해요.    요거 프로세스, 그죠? 요거나 요거 프로세스 종료할 때 프로그램도 종료할 때 요걸 누르면 프로그램도 같이 종료가 돼요. 그쵸, 요거는 이제 일반적으로 체크 해제되어 있어요. 체크하셔도 되고, 편하신 대로 하시면 돼요.    마감되고 프로그램이 꺼지는 걸 좋아하시면 요걸 체크하시면 되요. 그쵸, 그게 이제  일반 설정 의 설명은 끝이 났네요. 잠시 쉬고 돌아올게요.    자, 다시 돌아왔습니다. 한 가지 빼먹은 게 있네요. 그죠, 상단에 우측 상단에 보면 설정 관리라고 있어요.    그죠, 설정 관리 지금 로딩을 하면 아무것도 안 떠요. 이렇게 입력을 해서 저장을 하면 저장을 해서 데이터베이스 폴더에 가보면 이렇게 세팅 TV에서 언더바 초기 설정이라고 이렇게 하나 더 생겨요. 복사를 해서 이렇게 놔두는 거예요.    그래서 만약에 이런 걸 뭐 변경을 하더라도 그죠, 뭐 이런 걸 다 변경을 하더라도 이것을 로딩을 하면 이렇게 소개 설정이 뜨죠. 그걸 설정을 딱 누르면 바뀌어요, 전부 다 딱 바뀌어 있죠. 이런 형태로 그죠, 전부 다 바뀌어요.    방금 이런 거 지웠잖아요, 그 체크를. 그래서 한번에 설정 모드를 저장하고 여러 개를 또 저장할 수 있어요. 그죠, 따로 힘으로 또 저장해도 되고, 그러면 여기 여러 가지가 생깁니다.    그죠, 그런 형태로 그렇게 해서 설정 저장을 하실 수가 있구요. 그죠, 지울게요. 이제 다시 로딩하면 없겠죠? 이렇게 지워버리면.    그까지 설명을 하고 또 안 된 게 있습니다. 수동 다운로드 버튼이 또 있어요. 이렇게 일본 군복을 선택하고 주식 수동 다운로드를 누르면 수동으로 다운로드를 하실 수가 있고요.    물론  자동 다운로드  실행하는 거랑 똑같은 게 실행이 되는데, 이 수동 다운로드를 실행할 때는 반드시 계정을 키움증권에 접속을 해서 전부  모의 투자 를 신청을 해야 돼요. 그래서 이 주식 수동 다운로드는 본 서버, 모의 서버 하나의 계정으로 본 서버, 모의 서버 이렇게 두 개씩 접속해요. 그렇게 해서 데이터를 다운로드 받기 때문에 계정을 이렇게 4개를 설정할 수 있잖아요.    이렇게 킴 증권 1에 2개, 2에 2개 이렇게 설정을 다 하면 수동 다운로드를 하면 총 4개에서 하나당 2개씩 해서 총 8개가 실행이 돼서 데이터를 빠르게 다운로드 받아요. 3.5초마다 한 번씩만 조회할 수 있기 때문에, 그래서 여러 계정으로 다운로드 할 때는 모든 계정을  모의 투자  신청을 하고 난 후에 실행해야. 된다는 거 잊으시면 안 됩니다.    그리고 우리가 이제 팩트에서 나중에 설명하겠지만, 최적화를 하면 이 최적화 하면서 사용했던 변수와 기준값들, 데이터들을 저장을 해 두고 있어요. 그래서 그 저장을 해 둔 파일은 어디에 생성되냐면, 이렇게 데이터베이스 'vc'라는 폴더에 'underbar-database-vc' 여기에 저장이 되어 있구요. 그걸 주기적으로, 그게 이제 최적화를 하다 보면 몇 기가씩 쌓여요.    하나에 한 전략당 많게는 뭐 10기가 넘을 수도 있구요, 뭐 보통은 짧으면 2, 3기가, 4, 5기가 그렇게 돼요. 그 파일들이 이제 모여 있어요. 이제 중복이 있을 수 있거든요.    그래서 그 중복을 제거하는 게 '이전 최적화 데이터 정리' 버튼이에요. 이걸 누르면 알아서 VC에 있는 데이터를 다 읽고 와 가지고 정리를 하게 됩니다. 요게 그죠? 그리고 요 밑에 보면 '주식  틱 데이터  수동 저장하기' 있죠? 거의 뭐 안쓰는데, 뭐 잘못해서 오류가 났다거나, 뭐 잘못 동작 해 가지고 정지가 됐다거나, 아니면 인터넷이 끊겨서 정지가 됐다거나 할 때, 현재까지 모은 데이터라도 저장을 하기 위해서 요 '주식  틱 데이터  수동 저장하기' 버튼이 있어요.    요걸 누르면 이제 콜렉터가 가진 데이터가 저장이 돼요, 하드디스크로 그죠? 임의대로 프로세스 종료를 시키면서 이렇게 저장하게 만드는 버튼이 요거에요. 요거 그죠? 그럴 때 쓰시면 되구요. 그 다음에 ' 주문 설정 '으로 넘어갑시다.    주문 설정 은 '200 200 주식  주문 설정 '과 '매수  주문 설정 ', '주식 매도  주문 설정 ' 요거 두 개만 설명을 하겠습니다. 기본적으로 불러오면 이렇게 별도로 이제 에디터 창이 없기 때문에,  일반 설정 도 그렇고, 불러오거나 저장하거나 하면 이렇게 여기 중상단에 이렇게 로고가 표시가 됩니다. 불러오면 불러오기 완료가 된 걸 확인하시면 되고, 기본적으로 이렇게 확인하시면 돼요.    여기도 마찬가지, 불러오면 이렇게 뭐를 불러왔다, 뭐를 불러왔다, 뭐를 저장했다 이렇게 뜹니다, 그죠? 요걸 확인하시면 되요, 저장이나 불러오게 할 때. 자, 맨 처음 주문 형태는 뭐 주식 같은 경우, 코인은 주문 형태가 조금 적지만, 주식만 해도 되겠죠, 그죠? 주문 형태는  시장가 ,  지정가 , 체결이, 최우선,  지정가  IOC,  시장가  IOC, 체결이 IOC 이렇게 있어요. 여기 이제 마우스를 다 올리면 이렇게 설명이 다 뜹니다.    시장가 나  지정가 는 대부분 다 아실 거고, 그죠? 여기도 마우스를 올리면 이렇게 설명이 다 뜨니까 설명을 보시고 주문 형태를 선택하시면 되구요. 일반적으로는  시장가 를 많이 사용하시긴 하죠. 두 개 다 우리가 이제 급등하는 종목을 많이 올라타서 뭐 짧게 혹은 길게 먹고 나오기 때문에,  지정가 는 같은 경우는 이제 하락하는 종목 위주로 많이 잡혀서 보통 매수를  시장가 로 분할을 하든지 해서 많이 쓰십니다, 그죠? 아직  지정가 로 전략을...    세워서 안정적인 수익을 내는 전략은 아직 저도 찾지를 못했어요. 분명히 찾을 수 있을텐데, 그것도 연구를 많이 해봐야 될 것 같습니다. 1, 5, 5 저장하게 하면 이렇게 5를 초과할 수 없습니다.    이렇게 뜹니다. 그렇죠? 5까지 저장할 수 있고요, 기본은 1이에요. 분할 매수를 하려면 2를 하든, 3, 4, 5 이렇게 선택하실 수 있어요.    그리고 분할 매수 방법은 균등 분할, 비율 감소, 비율 증가 이렇게 세 가지가 있고요. 균등 분할은 만약에 5분할로 했을 경우, 패팅 금액이 1,000만원이다 하면 200만원씩 균등 분할해서 5번 매수하는 게 되는 거구요. 비율 감소일 경우 어떻게 하냐면, 유틸리티 세팅에 가서 맨 하단에 보면, 여기 이제 딕션에 오더 레이셔라 해서 분할 방법이 1번, 2번, 3번이 있어요.    1번은 균등, 2번은 비율 감소, 3번은 비율 증가예요. 잘 보시면, 그 다음 숫자는 이제 분할 횟수예요. 그리고 그 다음 숫자는 이제 분할 매수 횟수, 현재 분할 매수 하나도 매수가 안 됐으면 20% 한다는 거죠.    그렇죠? 균등 분할이기 때문에, 그래서 첫 번째부터 네 번째 상태까지 20%씩 분할하면 5번 매수하게 되는 거예요. 그렇죠? 2개를 했을 경우, 50%에 50% 그렇게 되는 거구요. 잠시만요.    그래서 이제 그렇게 되구요. 2번은 이제 좀 전에 보신 거, 비율 감소에요. 비율 감소.    그래서 비율 감소랑 비율 증가가 틀린 것은 뭐냐면, 항상 이전 매수의 절반을 매수하는 게 감소예요. 비율 감소. 비율 증가는 이전 매수의 2배를 매수하는 게 비율 증가에요.    이런 형태로. 그래서 끝이 같죠. 끝이.    그리고 그 다음께 이거랑 같고, 가운데 건 똑같이 12.9, 6.45, 3.23 이렇게 퍼센테이지를 실제 원래 배팅 금액을 만약에 2천만원을 한다면, 이 숫자를 곱해 가지고 수량이 정해져요. 2천만원을 100, 51, 52개는 부족하니까, 그래서 51개를 매수해요, 그 다음에 25개, 그 다음 12개, 6개, 3개 이런 형태로 매수가 됩니다. 그죠? 수량을 따지면, 물론 실제로는 이제 매수할 때 그 현재가가 틀리기 때문에, 정확하게 그렇게 떨어지지는 않고, 그죠? 이게 이제 3개가 될 수도 있고 2개가 될 수도 있고 그렇게 될 거예요.    그죠? 수량이 조금 틀려집니다. 감소가 되면 이제 하방으로 하면 수량이 늘어나겠고, 상방으로 하면 수량이 줄어들겠죠? 그죠? 그게 이거예요. 여기 비율을 미리 다 정해 놨어요, 여기에.    그래서 저 숫자를 곱해서 이렇게 되는 거예요. 이거 세 가지 중에 하나를 선택할 수 있어요. 분할 매수 방법에.    그죠? 그래서 추가 매수 방법은 이제 매수 방법은 이렇고, 분할 매수 방법은 이렇고, 그리고 추가 매수 방법은, 이게 글자가 분할 매수 방법, 추가 매수 방법 두 개 다 분할 매수 방법이긴 한데, 이건 분할 매수 비율로 바꿔야겠네요. 그렇죠? 아무튼 분할 매수 비율이라 생각하시면 되고요, 이제 추가로 첫 번째 매수한 다음 두 번째부터 이제 매수할 수 있는 조건과 방법을 선택하는 거예요. 그래서 추가 매수 시그널에서만, 잠깐만요, 매수 시그널에서만 매수할 수 있고요.    그리고 상방이나 하방 고정  수익률  변동에 따라서 매수할 때마다 평단가가 바뀌니까  수익률 도 변하겠죠. 그죠? 그렇게 해서 매수를 할 수도 있어요. 이렇게 물론 이제 2개를 안 쓰고 시그널에만 매수할 수도 있고, 복수 선택이 가능하기 때문에 하시면 되고, 그리고 상방이나 하방 추가 매수일 경우, 이제 이  수익률 은 장고에 대한  수익률 이에요.    그래서 매수할 때마다  수익률 이 변해요. 그러면 매수 간격이 균등하게 안 되고 점점 좁아져요. 장고의  수익률  기준으로 하면.    그래서 그 간격을 균등하게 하기 위해서는 단계별  수익률  변경을 누르면, 마지막 매수에서 0.5%가 변하면 추가로 매수하는 거예요. 이게 선택이 된 상태에서 이렇게 되어야겠죠. 그죠? 물론 선택되어 있어도 이렇게 되어있어도, 이렇게 선택이 안 돼 있으면 이걸로 매수는 하지 않아요.    그죠? 그런 형태고요. 그 다음에 이제  지정가   시장가 일 때는, 요거  시장가  호가 범위가, 음, 잠깐만요.  시장가 일 때는  시장가  주문 유행 시 호가 범위 선택해서, 매도 3호가 이내에 본인의 패팅 금액에 해당하는 잔량이 있을 경우, 기본적으로 매수하는 걸로 이렇게 되어 있어요.    이걸 1로 하면 매수 안 되는 경우도 많이 생깁니다. 그래서 2나 3으로 이렇게 하시면 돼요. 기본적으로 3호가까지 되어 있어요.    제가 백 테스트 해보니까 3호가까지는 수익이 나는데 전혀 무리가 없더라고요. 4호가 넘어가면 수익금이 줄어듭니다. 그리고  지정가 는 이제  지정가 는 기준 가격 대비 호가의 단계별로 이렇게 조정할 수 있어요.    그 가격에 주문을 넣는 거예요,  지정가  같은 경우. 그래서 기준가를 현재가로도 할 수 있고, 현재가가 매도 1호가가 될 수도 있고 매수 1호가가 될 수도 있겠죠. 그죠? 그거랑 상관없이 매수 1호가든 매도 1호가든 상관없이 보통은 이제 책에 수량이 많이 들어왔을 때 하니까, 보통은 현재가로 하면 매도 1호가가 되겠죠.    근데 매수 1호가가 될 수도 있어요. 1, 5, 5, 3 예수금을 줄이기 위해서 하는 거예요. 그죠?  시장가 로 그냥 주문을 넣으면 상가 기준으로 예수금을 체크하기 때문에 풀 매수가 안 됩니다.    그죠? 그럴 경우 현재가 대비 3호가 이상으로  지정가  매수를 하게 되면,  시장가 와 같은 효과를 내면서 매수가 돼요. 그렇지만 요걸 이제 너무 낮게 해버리면 수량이 부족해서, 그쵸? 한 방에 체결이 안 될 수도 있어요. 그쵸? 이 부분은 조심해야 돼요.    그쵸? 그렇기 때문에 차라리 하려면 현재가 대비 5호가 이상으로 이렇게  지정가 를 하면 거의  시장가 와 같은 형태로. 매수가 되면서 간혹 안 될 수도 있긴 있을 것 같아요. 아무튼 그렇게 하면서 예수금을 줄이는 효과가 있죠, 필요 예수금을 줄이는 효과가, 그쵸? 매도 1억을 기준으로 할 수도 있고, 매수 1억을 기준으로 할 수 있어요.    그 호가 그대로 할 수도 있고, 상방, 하방 5억까지 이렇게  시장가 로 선택할 수 있게끔 되어 있습니다. 그리고  시장가 에서는 주문 취소가 나는 경우가 거의 없지만, 조심해야 될 경우가 한 가지 있는데,  시장가 로 주문을 하더라도 체결이 안 되고 주문이 남아 있는 경우가 딱 한 경우가 있어요, VI가 걸렸을 경우에요. 보통 VI 직전에는 매수가 돼야 되는데, VI 직전에 시그널이 나오고 주문을 했는데, 벌써 그 종목은 VI가 들어가 있으면,  시장가 로 주문을 했는데도 체결이 안 날라와서 이 주문 후 취소를 30초로 해버리면 VI가 기본 2분이기 때문에 취소가 됩니다, 그쵸? 근데 이제 매수일 경우는 거의 뭐 상관이 없지만, 매도일 경우는 조심해야 돼요, 그쵸? VA  지정가 는 기본적으로 바로 체결이 안 이루어지니까요, 그쵸? 그래서 취소를 하는 경우는 관심을 이탈하고, 관심 종목을 이탈하거나, 아니면 매도 시그널이 발생했을 때, 매수 주문을 취소한다거나, 그러니까  지정가  주문을 냈는데 매도 시그널이 전략 연산에서 보면 잔고에 없더라도 매도 시그널을  트레이더 로 보냅니다.    요거 때문에 매수 주문 취소 때문에 보내요, 그러니까 오더 수량 0으로 해서 보내요, 그죠? 0인 거는 자동으로 취소가 되죠,  트레이더 에서. 근데 이제 그 전에 매수 주문이 있으면, 취소를 하기 위해서 그 0인 오더 수량이 0인 주문 수량이 0인 매도 시그널을 보내는 거예요. 그게 잔고에 없더라도 그게 요거 때문인 거예요, 전략 연산에서 보내는 게.    그래서 취소할 경우 관심 이탈이나 매도 시그널 발생이거나, 주문 후 매초 경과하면 주문을 취소하게끔 할 수 있고요. 그리고 매수 금지를 설정할 수 있어요, 블랙리스트, 라운드픽, 상위 5호가 이내, 그리고 손절 횟수, 매트 이상, 거래 횟수 매트 이상, 요렇게 하실 수 있고요. 매수 금지 시간도 설정할 수 있어요, 이전 거래 시간 몇 초 이내에 매수를 금지할 수 있어요.    이전 거래 시간이란 것은 매수 시간도 되고, 매도 시간도 돼요, 그쵸? 분할 매수를 할 경우, 매수를 몇 초 간격으로 빨리빨리 안 하기 위해서 이걸 쓸 수 있어요, 그쵸? 그리고 분할 매수가 아닐 경우는 거래를 한번 하고 나면 몇 초 이내로는 거래를 안 되게끔, 다시 안 사게끔 하는 용도로 쓰실 수도 있어요, 그쵸? 이 부분을. 그리고 손절 청산은 몇 초 이내에 다시 매수하지 않는다든지, 이렇게도 하실 수 있고요, 그쵸? 그리고  지정가 를 했을 경우 매수 정정을 할 수 있는데요, 현재가가 주문 가격과 현재가의 차이가 몇 호가 이상 이렇게 차이 날 때 주문을 정정을 할 수 있어요. 정정은 무한으로 하면 안 되니까요, 그러니까.    시그널을 냈는데 계속 가격이 상승하다 보면, 밑에만  지정가 를 주문을 넣다가 너무 상승을 많이 하면 더 이상 따라 붙으면 안 돼요. 그죠? 정정 가능 횟수도 적절하게 설정을 하셔야 돼요. 그렇죠? 정정을 하려면 보통 뭐, 3번, 4번, 5번 요정도까지 그렇게 해서 현재가랑 주문가격이 몇 억가 이상 차이 날 때, 다시 주문가격 기준가랑 똑같은 현재가에서, 요거는 이제 현재가에요.    현재가, 현재가의 차이 기준으로 정정주문을 내니까, 정정 주문에 대한 호가도 현재가에 대해서 어떻게 주문을 낼지 요렇게 요때는 이제 마이너스만 선택할 수 있어요. 마이너스 호가에요. 요거는 마이너스 호가, 그죠? 마이너스 호가인 거에요, 요기에.    그래서 마이너스가 붙여 있어요. 그죠? 마이너스 호가, 요거를 마이너스 1, 2, 3, 4, 5로 바꿀 걸 그랬네요, 보네요. 그죠? 아무튼 마이너스 붙여 놨으니까 통일할 걸 그죠? 그래서 이것 같은 경우 혹여나 이제 미체결이 있으면 하는 거기 때문에 일부 체결이 있을 수도 있어요.    그죠? 그래서 항상 이 정정주문 같은 경우 미체결 수량에 대해서만 정정주문이 나가는 거, 그것도 명심하셔야 돼요. 그래서 이렇게 갈로를 해서 적어두었습니다. 그 다음 매도를 봅시다.    매도는 이제 매수와 거의 유사하고요, 주문 유형 똑같고, 분할 횟수도 똑같고, 매도 방법도 균등 비율 증가 똑같이 있어요. 추가 매도 방법에는 시그널, 한가방, 단계별, 상방 단계별, 요거는 이제 수량은 줄어들어도  수익률 은 같겠죠? 그죠?  수익률 은 그대로에요. 그죠? 그래서 요거는 단계별  수익률 이 그대로 적용이 되는 거구요.    그 다음에  지정가 일 경우 기준 가격에서 플러스 마이너스 5가 이내에  지정가  매도를 할 수 있구요. 그죠? 그리고  시장가  주문일 경우 매도 5가가 기본적으로 설정되어 있어요. 매도 5가 이내에 본인이 패팅한 수량 만큼의 잔량이 있을 경우  시장가  주문이 나가도록 하는 거예요.    취소는 매수와 반대로, 관심 진입, 매수 시그널, 주문 매출경과 이렇게 되어 있습니다. 매도에서는 특별하게 개별 종목의  수익률 이 마이너스 5%일 때 청산하는 게 있구요. 그리고 수익금이 100만원일 때 마우스를 올려보면 만원 단위의 금액을 입력하십시오, 이렇게 뜹니다.    100만원이에요, 100, 100. 그리고 매도 금지는 매수 횟수 이내, 그러니까 분할 매수 횟수를 5로 했을 경우, 분할 매수 횟수 2회 이내에는 매도를 하지 않는 거예요. 무조건 두 번을 세 번 이상 매수가 되어야지만 매도를 하는 거예요.    이렇게 체크를 하면 이것을 조심하셔야 돼요. 그래서 만약에 분할 매수 횟수를 5로 했는데, 이것을 5로 해버리면 영원히 매도를 안 해요. 이것을 조심하셔야 돼요.    5면 무조건 4가 되어야 돼요. 최대는. 이것보다 하나가 작아야 돼요.    무조건. 이것을 명심하셔야 돼요. 만약에 사용한다 했을 경우.    그리고 라운드픽의 아래 5호가 이내에는 매도하지 않는다. 플러스 효과예요, 그쵸?  지정가  매도를 하게 되잖아요, 그쵸? 그래서 요거는 플러스고, 요거는 마이너스예요, 그쵸? 그것도 미체결에 대해서만 주문을 하도록 이렇게 되어 있구요. 코인은 다른 게 주문 형태가 몇 개가 없고, 그리고 나머지는 비슷하지만 이제 라운드 피규어 없고 200원 이하가 별도로 있구요, 그쵸? 그것만 틀려요.    매도도 거의 같은데 요게 없죠, 그쵸? 라운드 피규어, 여기 라운드 피규어잖아요? 요거 라운드 피드가 비어 있어요. 그 외에는 다 같아요, 그쵸? 이렇게 하면  주문 설정 도 백테스트, 백테스트 엔진, 모든 것들이 백테스트에 적용이 되고 있으니까 그 부분도 참고하시면 되겠습니다.  
### 
- 이번 시간에는 설정 탭의  일반 설정 과  주문 설정 에 대해서 모두 설명을 드렸습니다. 다음 시간에는 전략 탭이 두 개가 있는데, 매우 유사하기 때문에 주식 위주로 해서 미리 설명드리고, 코인 업비트는 거의 같고요. 그리고 바이낸스 선물이 일부 틀리기 때문에 그것까지 설명이 되겠습니다.    아마 3부로는 안 될 것 같아요, 그죠? 3부, 4부 이렇게 두 개 나눠서 또 녹화해 드리겠습니다. 감사합니다..  
### 
- 
